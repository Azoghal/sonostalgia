# https://taskfile.dev

version: '3'

#vars 

tasks:
  build:
    desc: "build the go binary"
    dir: cmd
    cmds: 
      - mkdir -p ../build
      - go build -o ../build 

  build-webpage:
    desc: "do the templating and produce website artefacts"
    deps:
      - build
    cmds: 
      - ./build/cmd
      - mkdir -p ./output/assets
      - cp -r ./src/assets ./output/
    
  clean:
    desc: "clean up"
    cmds:
      - rm -r build
      - rm -r output